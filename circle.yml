machine:
  node:
    version: 7.6

dependencies:
  pre:
    - echo "//registry.npmjs.org/:_authToken=${NPM_TOKEN}" >> ~/.npmrc
  override:
    - yarn:
        timeout: 180 # timeout after 3 minutes
        # IMPORTANT NOTE: ^^ the timeout modifier above must be
        # double indented (four spaces) from the previous line

test:
  override:
    - yarn test

deployment:
  branch: master
  commands:
    - npm publish .; exit 0
